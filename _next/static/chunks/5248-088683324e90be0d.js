(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5248],{65248:function(e,t,n){"use strict";n.d(t,{G:function(){return G}});var r=n(99221),o=n(32449),i=n(34152),a=n(13893),l=n(62485),c=n(67165),s=n(65622),m=n(35503),d=n(23722),p=n(8304),u=n(66004);let h=["A","N","H","L","Q","9","8"],f=["F","G","T","I","J","1","2","3"],g=["K","D","Y","B","O","4","5"],Z=["P","E","R","S","C","U","6","7"],b=["V","W","X","M","Z"],x=e=>null==e?void 0:e.charAt(0).toUpperCase();var _=(e,t)=>({name:"".concat(x(e)," ").concat(x(t)),color:h.includes(x(e))?"primary":f.includes(x(e))?"info":g.includes(x(e))?"success":Z.includes(x(e))?"warning":b.includes(x(e))?"error":"default"}),v=n(89964),y=n(50959),C=n(69543),w=n(78873),I=n(48496);let k=()=>{let[e,t]=(0,y.useState)([]),{programsExpired:n,appointmentNotifications:r}=(0,C.lm)();return(0,y.useEffect)(()=>{let e=r.map(e=>{let{typeAtention:t="",hour:n,speciality:r,day:o}=e,i="Presencial"===t;return{title:"Tienes una cita (".concat(t.toLocaleLowerCase(),") de ").concat((0,v.R0)(r)," programada para este ").concat((0,u.hY)(o)," ").concat(String((0,u.dz)(o))," de ").concat((0,u.vv)(o)," a las ").concat((0,u.aC)(n)),description:i?"Acude 30 minutos antes para que puedas pasar por admisi\xf3n":"No olvides conectarte puntual a la teleconsulta",hasButton:!i,titleButton:i?"":"Conectarse",href:i?"":"/",id:(0,w.D)()}}),o=n.map(e=>{let{contractId:t,product:n}=e;return{id:(0,w.D)(),title:"Tu programa ".concat(n," est\xe1 suspendido por falta de pago"),description:"Ponte al d\xeda en tus pagos y protege tu salud y la de tu familia. ",hasButton:!0,href:"".concat(I.m_,"/programas/").concat(t,"?tab=Pagos"),titleButton:"Ir a pagar"}});t([...e,...o])},[r,n]),{notifications:e,setNotifications:t}};var O=n(44660),D=n(57479),B=n(83982),S=n.n(B),z=n(29531);let N=e=>{let{notification:t}=e,{isMobile:n}=(0,p.$)();return(0,r.BX)(D.Z,{sx:{backgroundColor:"white",borderRadius:"0.8rem"},display:"flex",justifyContent:"space-between",alignItems:"flex-start",px:"2rem",py:"1.6rem",gap:"1.2rem",border:n?"none":"0.1rem solid ".concat(u.O9.neutral_gray_02),children:[(0,r.tZ)(D.Z,{sx:{backgroundColor:u.O9.primary_light,width:"3.4rem",height:"3.4rem",padding:"0.8rem",borderRadius:"2.8rem"},component:"div",children:(0,r.tZ)(d.Qu,{size:18,color:"white"})}),(0,r.BX)(D.Z,{children:[(0,r.BX)(D.Z,{component:"div",display:"flex",flexDirection:"column",gap:"0.8rem",mb:t.hasButton?"2rem":0,children:[(0,r.tZ)(c.Z,{variant:"body3_bold",color:u.O9.text_title_p2,children:t.title}),(0,r.tZ)(c.Z,{variant:"label1",color:u.O9.text_body_b1,children:t.description})]}),t.hasButton&&(0,r.tZ)(z.Z,{LinkComponent:S(),title:t.titleButton,size:"small",href:t.href,children:t.titleButton})]})]})};var P=n(34112),X=n.n(P);let W=e=>{let{notifications:t}=e,{isMobileSmall:n,isMobile:o,toggleNotification:i,openNotification:l}=(0,p.$)();return(0,r.BX)(r.HY,{children:[(0,r.tZ)(O.Z,{open:l&&!n,onClick:i,sx:{zIndex:e=>e.zIndex.drawer+3}}),(0,r.BX)(a.Z,{component:"nav",position:"fixed",top:0,className:"".concat(X()["notifications-sidebar"]," ").concat(l?X().open:""),sx:{maxWidth:n?void 0:"40rem",height:"100vh",overflowY:"auto",backgroundColor:o?u.O9.background_bg_n1:"white",borderRadius:n?"0":"1.6rem 0 0 1.6rem",zIndex:e=>e.zIndex.drawer+4},children:[o&&(0,r.tZ)(D.Z,{component:"nav",height:"6rem",sx:{backgroundColor:"white"},display:"flex",alignItems:"center",children:(0,r.tZ)("button",{className:X()["close-icon-notifications"],onClick:i,children:(0,r.tZ)(d.Tw,{color:u.O9.primary,size:30})})}),(0,r.tZ)(D.Z,{component:"div",display:"flex",justifyContent:"space-between",alignItems:"center",sx:{ml:"2.4rem",mr:"2.4rem",mt:o?"2.4rem":"4rem",mb:t.length>0&&!o?"3.2rem":"1.6rem"},children:(0,r.tZ)(c.Z,{variant:"h3_bold",color:u.O9.text_title,component:"h3",children:"Notificaciones"})}),(0,r.tZ)(D.Z,{display:"flex",flexDirection:"column",mb:"2.5rem",gap:"1.2rem",px:o?"1.2rem":"3.2rem",justifyContent:0===t.length?"center":"flex-start",alignItems:"center",height:"100%",children:t.length>0?t.map(e=>(0,r.tZ)(N,{notification:e},e.id)):(0,r.BX)(r.HY,{children:[(0,r.tZ)(d.rE,{size:80,color:u.O9.primary_light}),(0,r.tZ)(c.Z,{variant:"h4_bold",color:u.O9.text_title_p2,sx:{mt:"3.2rem",mb:"1.6rem"},children:"Est\xe1s al d\xeda"}),(0,r.tZ)(c.Z,{variant:"body2",color:u.O9.text_body_b1,children:"No tienes notificaciones sin leer"})]})})]})]})};var R=n(83357),T=n(89911),E=n(76395),F=n(2198),A=n(71778),L=n(23202),U=n(16338);let J={shadow02:"var(--shadow-02)"};var Y=n(43231);let $=[{name:"Portal Mi aviva",href:I.m_},{name:"Seguridad",href:"".concat(I.m_,"/inicio/configuracion?option=seguridad")}],j=e=>{let{popupState:t}=e,n=(0,R.useRouter)(),{isMobile:o}=(0,p.$)(),{logOutUser:a}=(0,L.aC)(),{appointmentConfirmationFull:l,setAppointmentConfirmationFull:s,setAppointmentInfo:m}=(0,Y.Z)(),d=async()=>{l&&await u(),a()},u=async()=>{await n.push("/citas"),(0,U.DO)(),s(null),m(null)};return(0,r.BX)(T.ZP,{...(0,i.ZW)(t),elevation:0,sx:{top:o?"1.2rem":"1rem",right:o?"4rem":void 0},PaperProps:{sx:{...H.paper,boxShadow:o?J.shadow02:void 0}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,r.tZ)(E.Z,{sx:{padding:0},children:$.map((e,t)=>(0,r.tZ)(F.Z,{sx:H.menuItem,children:(0,r.tZ)(c.Z,{lineHeight:"4.8rem",width:"100%",href:e.href,component:S(),variant:"button_medium",children:e.name})},t))}),(0,r.tZ)(A.Z,{sx:{mt:"1.4rem",mb:"1.6rem"}}),(0,r.tZ)(D.Z,{onClick:d,component:"div",sx:H.logout,children:(0,r.tZ)(c.Z,{variant:"button_small",color:"primary",children:"Cerrar sesi\xf3n"})})]})},H={paper:{borderRadius:"0.8rem",maxWidth:"24rem",width:"100%",pt:"2.4rem",pb:"2.4rem",px:"1.6rem"},menuItem:{pl:"1rem",py:0,borderRadius:"0.8rem",color:u.O9.text_body_b1,"&:hover":{color:u.O9.primary_darkest,backgroundColor:u.O9.primary_lightest}},logout:{cursor:"pointer"}},G=e=>{let{user:t,truncateAt:n=18}=e,{isMobile:h,isMobileSmall:f,toggleNotification:g}=(0,p.$)(),{notifications:Z,setNotifications:b}=k();return(0,r.BX)(a.Z,{component:"section",direction:"row",gap:h?"0.4rem":"1.2rem",alignItems:"center",width:"fit-content",justifyContent:"flex-end",children:[(0,r.tZ)(l.Z,{sx:{bgcolor:h?u.O9.primary_light:u.O9.primary,fontSize:h?"1.6rem":"1.8rem",letterSpacing:-1.5,height:h?"3.3rem":"4rem",width:h?"3.3rem":"4rem"},children:_(t.name,t.surname1).name}),(0,r.tZ)(o.ZP,{variant:"popover",popupId:"account-options",children:e=>(0,r.BX)("div",{children:[(0,r.BX)(a.Z,{...(0,i.vW)(e),maxWidth:"20rem",component:"div",direction:"row",gap:h?"0.4rem":"1.2rem",alignItems:"center",sx:{cursor:"pointer"},children:[(0,r.tZ)(c.Z,{variant:h?"label1_semi_bold":"body3_semi_bold",fontWeight:700,color:"secondary",children:(0,v.aS)(t.name,f?n:0)}),(0,r.tZ)(d.v4,{color:u.O9.primary,size:h?20:24})]}),(0,r.tZ)(j,{popupState:e})]})}),(0,r.tZ)(s.Z,{sx:{borderRadius:10,border:"1px solid ".concat(u.O9.neutral_gray_03),p:"1rem",height:f?"3.6rem":"4rem",width:f?"3.6rem":"4rem"},onClick:g,children:(0,r.tZ)(m.Z,{badgeContent:Z.length,color:"error",children:(0,r.tZ)(d.Dk,{size:24,color:u.O9.neutral_gray_08})})}),(0,r.tZ)(W,{notifications:Z,setNotifications:b})]})}},16338:function(e,t,n){"use strict";n.d(t,{$w:function(){return i},DO:function(){return a},gf:function(){return o}});var r=n(58928);let o={registro:1,"confirmar-codigo":2,"validar-number-sms":3,"confirmar-codigo-sms":4,"correo-actualizar":5,paciente:6,pago:7},i=e=>{(0,r.setCookie)("appointmentSTEP",e)},a=()=>{(0,r.deleteCookie)("appointmentSTEP")}},43231:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(72775),o=n(68063),i=n(71546);let a={appointmentConfirmationFull:null,appointmentInConflict:null,appointmentInfo:null,dniForm:null,patient:null,tokenData:null,appointmentInfoJWT:null,user:null},l=(0,o.Ue)((0,i.tJ)(e=>({...a,setTokenData:t=>e(()=>({tokenData:t})),setAppointmentInfoJWT:t=>e(()=>({appointmentInfoJWT:t})),setAppointmentInfo:t=>e(()=>({appointmentInfo:t})),resetState:()=>e(()=>a),setDNIForm:t=>e(()=>({dniForm:t})),setUser:t=>e(()=>({user:t})),setPatientData:t=>e(()=>({patient:t})),setAppointmentConfirmationFull:t=>e(()=>({appointmentConfirmationFull:t})),setAppointmentInConflict:t=>e(()=>({appointmentInConflict:t}))}),{name:"citasStepper",storage:(0,i.FL)(()=>localStorage),partialize:e=>(0,r.Z)(e,["user","appointmentInConflict"])})),c={getItem:e=>{let t=document.cookie.split("; "),n=t.find(t=>t.startsWith("".concat(e,"=")));return n?n.split("=")[1]:null},setItem:(e,t)=>{document.cookie="".concat(e,"=").concat(t,"; path=/; max-age=").concat(604800)},removeItem:e=>{document.cookie="".concat(e,"=; path=/; max-age=0")}},s=(0,o.Ue)()((0,i.tJ)(e=>({userData:null,setUserData:t=>e({userData:t}),clearUserData:()=>e({userData:null})}),{name:"Datodeusuario",storage:(0,i.FL)(()=>c)}));t.Z=l},34112:function(e){e.exports={"close-icon-notifications":"NotificationSidebar_close-icon-notifications__EF6Oa","notifications-sidebar":"NotificationSidebar_notifications-sidebar__9YSXD",open:"NotificationSidebar_open__RfeKu"}}}]);