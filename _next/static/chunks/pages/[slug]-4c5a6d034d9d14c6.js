(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{39460:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return n(14386)}])},83585:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var l=n(99221),o=n(57479),i=n(67165),r=n(66004);let a=e=>{let{text:t="No se encontr\xf3 informaci\xf3n"}=e;return(0,l.tZ)(o.Z,{width:"100%",display:"flex",justifyContent:"center",mt:"4rem",children:(0,l.tZ)(i.Z,{variant:"body2_bold",color:r.O9.primary_dark,textAlign:"center",children:t})})}},83449:function(e,t,n){"use strict";var l=n(72775),o=n(68063),i=n(71546);let r={appointmentTempInfo:null,avaiableDays:null,selectedCenter:null,selectedSpecialty:null,favoriteDoctors:null,selectedDoctor:null,selectedDate:null,selectedHour:null,avaiableAppoimentsByDoctors:null,loadingDoctorsAvailableDays:!1,notFoundDoctorsAvailableDays:!1},a=(0,o.Ue)((0,i.tJ)(e=>({...r,setAvaiableDays:t=>e(()=>({avaiableDays:t})),setSelectedDate:t=>e(()=>({selectedDate:t})),setSelectedHour:t=>e(()=>({selectedHour:t})),setSelectedSpecialty:t=>e(()=>({selectedSpecialty:t})),setSelectedCenter:t=>e(()=>({selectedCenter:t})),setSelectedDoctor:t=>e(()=>({selectedDoctor:t})),setAppointmentTempInfo:t=>e(()=>({appointmentTempInfo:t})),setFavoriteDoctors:t=>e(()=>({favoriteDoctors:t})),setAvaiableAppoimentsbyDoctors:t=>e(()=>({avaiableAppoimentsByDoctors:t})),setLoadingDoctorsAvailableDays:t=>e(()=>({loadingDoctorsAvailableDays:t})),setNotFoundDoctorsAvailableDays:t=>e(()=>({notFoundDoctorsAvailableDays:t}))}),{name:"appoimentScheduleState",storage:(0,i.FL)(()=>localStorage),partialize:e=>(0,l.Z)(e,["appointmentTempInfo","selectedDate","avaiableAppoimentsByDoctors","loadingDoctorsAvailableDays","notFoundDoctorsAvailableDays","selectedDoctor","favoriteDoctors"])}));t.Z=a},70689:function(e,t,n){"use strict";n.d(t,{Uj:function(){return v}});var l=n(50959),o=n(83357),i=n(44945),r=n(8304),a=n(66004),s=n(89964),c=n(83449),d=n(11058),u=n(94707),p=n(87109),m=n(22596);let f={center:{required_error:"Este campo es requerido",invalid_type_error:"Ingresa una opci\xf3n v\xe1lida"},specialty:{required_error:"Este campo es requerido",invalid_type_error:"Ingresa una opci\xf3n v\xe1lida"}};i.z.object({center:i.z.string(f.center).nonempty(f.center.required_error),specialty:i.z.string(f.specialty).nonempty(f.specialty.required_error)});let v=e=>{let{autocompleteSpecialty:t=!1}=e,{query:n}=(0,o.useRouter)(),{isMobile:i}=(0,r.$)(),{openAlert:f}=(0,u.Z)(),{selectedCenter:v,selectedSpecialty:h,setSelectedSpecialty:y,setSelectedCenter:b,setSelectedDoctor:D,selectedDate:g,selectedDoctor:S,setAvaiableAppoimentsbyDoctors:_,setNotFoundDoctorsAvailableDays:C,setLoadingDoctorsAvailableDays:w,favoriteDoctors:I,loadingDoctorsAvailableDays:Z}=(0,c.Z)(),{specialtiesCatalog:x,setSpecialtiesCatalog:A,centersCatalog:N,consultTypeCatalog:E}=(0,d.Z)(),[L,q]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e;if(!N)return;let t=n.centerId?N.find(e=>e.id===Number(n.centerId)):void 0;b(null!==(e=null!=t?t:v)&&void 0!==e?e:N[0])},[v,N,n.centerId]),(0,l.useEffect)(()=>{v&&N&&(D(null),A(null),(0,m.NV)(v.id).then(e=>{let l=e.map(e=>{let{basicServiceId:t,basicService:n,isFemale:l}=e;return{id:t,name:(0,s.R0)(n.toLowerCase()),isFemale:l}});if(A(l),n.specialtyId){let e=l.find(e=>e.id===Number(n.specialtyId));e&&y(e)}else h?y(h):t&&y({name:e[0].basicService,id:e[0].basicServiceId,isFemale:e[0].isFemale})}).catch(e=>{console.error(e),f("No se encontraron especialidades para la sede seleccionada"),A(null)}))},[v,N]);let B=async()=>{if(!h){f("Debe seleccionar una especialidad",{type:"info",title:"Informaci\xf3n"});return}if(!v||!N||!E||!x){_(null),f("Debe seleccionar una sede",{type:"info",title:"Informaci\xf3n"});return}w(!0),C(!1),(0,p.Z)("search",{search_term:h.name,sede:v.name});try{var e,t,n;let l=await (0,a.qh)({appointmentTypeId:E[0].id,basicServiceId:h.id,centerId:v.id,professionalName:null==S?void 0:S.name,selectedDate:g});if((null===(e=l.message)||void 0===e?void 0:e.includes("No se han encontrado resultados"))&&C(!0),(null===(t=l.data)||void 0===t?void 0:t.length)===0){C(!0),_(null);return}let o=I?null===(n=l.data)||void 0===n?void 0:n.sort((e,t)=>{let n=I.some(t=>t.professionalId===e.professionalId),l=I.some(e=>e.professionalId===t.professionalId);return n&&!l?-1:!n&&l?1:0}):l.data;_(null!=o?o:null)}catch(e){console.error(e),_(null),C(!0)}finally{w(!1)}};return{loading:Z,onClickSpecialtySelect:()=>{i&&q(!0)},openEspecialtyModal:L,selectedCenter:v,selectedSpecialty:h,setOpenEspecialtyModal:q,setSelectedCenter:b,setSelectedSpecialty:y,onChangeSelectedCenter:e=>{if(!N)throw Error("No hay un catalogo de sedes donde seleccionar");D(null);let t=N.find(t=>e===t.id);if(!t)throw Error("No se encontro la sede seleccionada en el catalogo");b(t)},onChangeSelectedSpecialty:e=>{if(!x)throw Error("No hay un catalogo de especialidades donde seleccionar");D(null);let t=x.find(t=>e===t.id);y(null!=t?t:null)},onSearchAppoiment:B}}},14386:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return S}});var l=n(99221),o=n(50959),i=n(83357),r=n(57479),a=n(13893),s=n(54078),c=n(92787),d=n(83585),u=n(8304),p=n(66004),m=n(89964),f=n(60173),v=n(29078),h=n(11058),y=n(20789),b=n(70689),D=n(46989),g=n(40068),S=!0;t.default=e=>{var t,n;let{rootContent:S}=e,{isMobile:_}=(0,u.$)(),C=(0,i.useRouter)(),w=(0,y.n)(e=>e.setSpecialties),{data:I=[]}=(0,f.a0)({url:"".concat(D.e_,"/specialties")}),{centersCatalog:Z,specialtiesCatalog:x}=(0,h.Z)(),[A,N]=(0,o.useState)(""),[E,L]=(0,o.useState)(null),{selectedCenter:q,onChangeSelectedCenter:B}=(0,b.Uj)({autocompleteSpecialty:!1}),T=(0,o.useMemo)(()=>{if(!x)return[];let e=x.map(e=>({value:{...e,name:(0,m.R0)(e.name.toLowerCase())},label:(0,m.R0)(e.name.toLowerCase())}));return e},[x]),j=e=>{if(!A||!q)return e;let t=e.filter(e=>Number(e.center_id)===q.id);return t.filter(e=>(0,m.Te)(e.title).toLowerCase().trim().includes((0,m.Te)(A).toLowerCase().trim()))},F=(0,o.useMemo)(()=>j(I),[A,q,I]);(0,o.useEffect)(()=>{w(F)},[F]);let H=0===F.length;return(0,l.BX)(s.Zn,{title:"".concat(S.title," - aviva"),widthWrapper:!1,children:["Especialidades"===S.title?(0,l.BX)(l.HY,{children:[(0,l.tZ)(g.yo,{content:{title:"".concat((0,p.CP)("Especialidades","var(--color-text-title-p2)")),description:"Contamos con m\xe1s de 30 especialidades a tu disposici\xf3n",bg_color:"Azul"}}),(0,l.tZ)(r.Z,{width:"100%",minHeight:_?"18rem":"11rem",bgcolor:p.O9.primary,display:"flex",justifyContent:"center",children:(0,l.tZ)(r.Z,{maxWidth:"144rem",width:"100%",display:"flex",justifyContent:"center",children:(0,l.BX)(a.Z,{width:"90%",justifyContent:_?"center":"flex-start",direction:_?"column":"row",gap:"3rem",p:_?void 0:"1.6rem 10.4rem 2rem 0",children:[(0,l.tZ)(c.AP,{disableBorder:!0,placeholder:"Selecciona una sede",label:"Sede",options:null!=Z?Z:[],name:"Sede",sxContainer:{height:"4.8rem",width:_?"100%":"40%"},sxLabel:{color:"white",fontSize:"1.4rem"},value:Z&&null!==(n=null==q?void 0:q.id)&&void 0!==n?n:0,onChange:B}),(0,l.tZ)(c.m8,{options:T,sxContainer:{width:_?"100%":"60%"},label:"Busca por nombre",sxLabel:{color:"white",fontSize:"1.4rem"},inputHeight:"4.8rem",onChange:e=>{var t;if(!x)return;let n=x.find(t=>t.id===(null==e?void 0:e.id)),l=null===(t=S.bloques[0].items)||void 0===t?void 0:t.find(t=>t.title===(null==e?void 0:e.name));n&&L({value:n,label:(0,m.R0)(n.name.toLowerCase())}),l&&C.push("especialidades/".concat(l.slug))},inputValue:A,onInputChange:e=>{N(e)},disableBorder:!0,value:E,onClear:()=>{N(""),L(null)},placeholder:"Ingresa el nombre de especialidad."})]})})})]}):null,H&&(0,l.tZ)(a.Z,{height:"24rem",width:"100%",alignItems:"center",justifyContent:"center",mb:"2.4rem",children:(0,l.tZ)(d.H,{text:"No se encontraron especialidades, por favor prueba otro filtro"})}),null==S?void 0:null===(t=S.bloques)||void 0===t?void 0:t.map((e,t)=>(0,l.tZ)(v.Y,{section:e,isMobile:_},t))]})}}},function(e){e.O(0,[8173,8572,2525,317,2450,9272,843,486,6560,5030,9731,5248,873,1747,1618,5552,9498,9774,2888,179],function(){return e(e.s=39460)}),_N_E=e.O()}]);